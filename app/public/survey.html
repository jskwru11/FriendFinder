<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test</title>

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


</head>
<body>
    <div class="container">
    <h2>Survey Questions</h2>

    <hr>

    <h2>About You</h2>

    <form action="/survey" class="form-group" method="POST" id="surveyForm">
    
        <div class="">
            <label for="userName">Name (Required)</label>
            <input type="text" name="username" id="name" class="form-control required">
        </div>

        <div class="">
            <label for="userPhoto">Link to Photo Image (Required)</label>
            <input type="text" name="userPhoto" id="photo" class="form-control required">
        </div>

        <hr>



        <h2>Question 1</h2>
        <h4>This is my first paragraph</h4>
        <select id="q1" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 2</h2>
        <h4>This is my first paragraph</h4>  
        <select id="q2" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 3</h2>
        <h4>This is my first paragraph</h4>
        <select id="q3" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 4</h2>
        <h4>This is my first paragraph</h4>
        <select id="q4" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 5</h2>
        <h4>This is my first paragraph</h4>
        <select id="q5" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 6</h2>
        <h4>This is my first paragraph</h4>
        <select id="q6" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 7</h2>
        <h4>This is my first paragraph</h4>
        <select id="q7" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 8</h2>
        <h4>This is my first paragraph</h4>
        <select id="q8" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 9</h2>
        <h4>This is my first paragraph</h4>
        <select id="q9" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h2>Question 10</h2>
        <h4>This is my first paragraph</h4>
        <select id="q10" class="custom-select custom-select-lg mb-3" style="width: 200px;">
            <option selected>Open this select menu</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <button class="btn btn-primary btn-lg btn-block"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>

    </form>

    <hr>

    <footer>
        <p>
        <a href="/api/friends">API Friends List</a>
            | 
        <a href="https://github.com/jskwru11/News-Letter">GitHub Repo</a>
    </p>
    </footer>

    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
            <div class="modal-dialog">
        
                <!-- Modal content-->
                <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">Ã—</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
                </div>
        
            </div>
            </div>

</div>


<script>
    $('#surveyForm').on('submit', function(evt) {
        evt.preventDefault();

        var userInfo = {
            name: $('#name').val(),
            photo: $('#photo').val(),
            answers: [
                $('#q1').val(),
                $('#q2').val(),
                $('#q3').val(),
                $('#q4').val(),
                $('#q5').val(),
                $('#q6').val(),
                $('#q7').val(),
                $('#q8').val(),
                $('#q9').val(),
                $('#q10').val(),
            ]
        };
        
        $.post('/api/friends', userInfo, function(data) {
            console.log(data);
            $('#match-name').text(data[0].name);
            $('match-img').attr('src', data[0].photo);

            $('#results-modal').modal('toggle');
        });
    });
</script>


</body>
</html>